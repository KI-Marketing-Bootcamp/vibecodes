<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Persona Engine Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ci-gold': '#FFB300',
                        'ci-dark': '#0f172a',
                        'ci-darker': '#020617',
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['Courier New', 'monospace'],
                    },
                    animation: {
                        'rainbow': 'rainbow 3s ease infinite',
                    },
                    keyframes: {
                        rainbow: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020617;
            background-image: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            color: white;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }

        .custom-scroll::-webkit-scrollbar { width: 8px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); }
        .custom-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #FFB300; }

        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb { 
            -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; 
            background: #FFB300; cursor: pointer; margin-top: -6px; 
            box-shadow: 0 0 10px #FFB300; transition: transform 0.1s; 
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }
        input[type=range]::-webkit-slider-runnable-track { 
            width: 100%; height: 4px; cursor: pointer; background: #334155; border-radius: 2px; 
        }

        .power-check { appearance: none; width: 1.2em; height: 1.2em; border: 1px solid #475569; border-radius: 4px; background: rgba(0,0,0,0.3); cursor: pointer; position: relative; transition: all 0.2s; }
        .power-check:checked { background: #FFB300; border-color: #FFB300; box-shadow: 0 0 10px rgba(255, 179, 0, 0.3); }
        .power-check:checked::after { content: '‚úî'; position: absolute; font-size: 0.8em; color: #0f172a; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: bold; }
        
        .btn-rainbow {
            background: linear-gradient(45deg, #FFB300, #ef4444, #a855f7, #3b82f6);
            background-size: 300% 300%;
            animation: rainbow 3s ease infinite;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0"
  }
}
</script>
</head>
<body class="flex flex-col items-center py-8 px-4 min-h-screen">

    <!-- Header -->
    <div class="w-full max-w-6xl flex justify-between items-center mb-8 relative z-10">
        <a href="#" class="text-slate-400 hover:text-white transition-colors flex items-center gap-2 text-sm font-medium">
            <i data-lucide="arrow-left" class="w-4 h-4"></i> <span id="txtBack">Kalender</span>
        </a>
        
        <button onclick="randomize()" class="btn-rainbow text-white font-bold text-sm px-6 py-2 rounded-full flex items-center gap-2 transition-transform hover:scale-105 shadow-[0_0_20px_rgba(255,179,0,0.3)] border border-white/20">
            <i data-lucide="sparkles" class="w-4 h-4"></i> SURPRISE ME!
        </button>

        <div class="text-ci-gold font-bold uppercase tracking-widest text-xs md:text-sm border border-ci-gold/30 px-3 py-1 rounded-full bg-ci-gold/5">
            <span id="txtDay">TAG 1</span>
        </div>
    </div>

    <main class="max-w-6xl w-full grid lg:grid-cols-12 gap-6 relative z-10">
        
        <!-- Title & Language -->
        <div class="lg:col-span-12 text-center mb-2">
            <h1 class="text-3xl md:text-5xl font-black mb-2 text-white">
                AI Persona <span class="text-ci-gold">Engine</span>
            </h1>
            <p id="txtSubtitle" class="text-slate-400 text-sm md:text-base font-light max-w-2xl mx-auto">
                Baue dir deinen perfekten Mitarbeiter. Aber Vorsicht: Je menschlicher er wirkt, desto riskanter wird es.
            </p>
            <div class="flex justify-center mt-4">
                <div class="flex bg-black/30 rounded-full p-1 border border-white/10">
                    <button onclick="setLang('de')" id="btnLangDE" class="px-4 py-1 rounded-full text-xs font-bold transition-all bg-ci-gold text-ci-dark shadow-lg">DE</button>
                    <button onclick="setLang('en')" id="btnLangEN" class="px-4 py-1 rounded-full text-xs font-bold transition-all text-slate-500 hover:text-slate-300">EN</button>
                </div>
            </div>
        </div>

        <!-- Left Column: Controls -->
        <div class="lg:col-span-7 space-y-6">
            
            <!-- Identity -->
            <div class="glass-panel rounded-xl p-6">
                <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
                    <label id="lblIdentity" class="text-xs font-bold text-ci-gold uppercase tracking-widest">1. Basis Identit√§t</label>
                    <div class="flex gap-2" id="presetContainer">
                        <!-- Presets injected via JS -->
                    </div>
                </div>
                <div class="flex gap-4">
                    <div class="w-1/3">
                        <input type="text" id="inpName" placeholder="Name" oninput="update()" class="w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-ci-gold focus:outline-none placeholder-slate-600 transition-colors">
                    </div>
                    <div class="w-2/3">
                        <input type="text" id="inpRole" placeholder="Rolle" oninput="update()" class="w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-ci-gold focus:outline-none placeholder-slate-600 transition-colors">
                    </div>
                </div>
            </div>

            <!-- Sliders -->
            <div class="glass-panel rounded-xl p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                
                <div>
                    <div class="flex justify-between mb-2">
                        <label id="lblChaos" class="text-sm font-bold text-slate-300">Kreativit√§t</label>
                        <span id="valChaos" class="text-xs text-ci-gold">Ausgewogen</span>
                    </div>
                    <input type="range" id="rngChaos" min="0" max="100" value="20" oninput="update()">
                </div>

                <div>
                    <div class="flex justify-between mb-2">
                        <label id="lblHard" class="text-sm font-bold text-slate-300">H√§rtegrad</label>
                        <span id="valHard" class="text-xs text-ci-gold">Professionell</span>
                    </div>
                    <input type="range" id="rngHard" min="0" max="100" value="70" oninput="update()">
                </div>

                <div>
                    <div class="flex justify-between mb-2">
                        <label id="lblAuto" class="text-sm font-bold text-slate-300">Autonomie</label>
                        <span id="valAuto" class="text-xs text-ci-gold">Mixed</span>
                    </div>
                    <input type="range" id="rngAuto" min="0" max="100" value="30" oninput="update()">
                    <div class="flex justify-between text-[10px] text-slate-500 mt-1">
                        <span id="lblAsk">Fragt nach</span>
                        <span id="lblDecide">Entscheidet</span>
                    </div>
                </div>

                <div>
                    <div class="flex justify-between mb-2">
                        <label id="lblEmoji" class="text-sm font-bold text-slate-300">Emoji-Dichte</label>
                        <span id="valEmoji" class="text-xs text-ci-gold">Keine</span>
                    </div>
                    <input type="range" id="rngEmoji" min="0" max="100" value="0" oninput="update()">
                </div>
            </div>

            <!-- Modifiers -->
            <div class="glass-panel rounded-xl p-6">
                <label id="lblMods" class="text-xs font-bold text-ci-gold uppercase tracking-widest mb-4 block">3. Pro-Modifikatoren (Die Magie)</label>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3" id="checkboxContainer">
                    <!-- Checkboxes injected via JS -->
                </div>
            </div>

        </div>

        <!-- Right Column: Output -->
        <div class="lg:col-span-5 relative flex flex-col h-full">
            <div class="absolute inset-0 bg-ci-gold opacity-5 blur-3xl rounded-full pointer-events-none"></div>

            <div class="glass-panel rounded-xl p-6 flex flex-col h-full border border-ci-gold/20 relative z-10">
                <div class="flex items-center justify-between mb-4 border-b border-white/10 pb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-ci-gold to-orange-600 flex items-center justify-center text-lg shadow-lg">
                            üß¨
                        </div>
                        <div>
                            <h2 id="lblSystem" class="text-sm font-bold text-white uppercase tracking-wider">System Prompt</h2>
                            <span id="lblCopyHint" class="text-[10px] text-slate-400">Copy & Paste in ChatGPT/Claude</span>
                        </div>
                    </div>
                </div>

                <div class="flex-grow relative group">
                    <pre id="outputCode" class="font-mono bg-black border border-white/10 rounded-lg p-4 text-[10px] md:text-xs leading-relaxed text-cyan-200 h-[400px] overflow-y-auto w-full whitespace-pre-wrap custom-scroll"></pre>
                </div>

                <button onclick="copyToClipboard()" id="btnCopy" class="mt-4 w-full bg-ci-gold hover:bg-[#ffc107] text-ci-dark font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg hover:scale-[1.02] active:scale-[0.98]">
                    <i data-lucide="copy" class="w-4 h-4"></i>
                    <span id="btnCopyText">Persona Kopieren</span>
                </button>
            </div>
        </div>

        <!-- Accordions (Critical & Code) -->
        <div class="lg:col-span-12 mt-8 space-y-4">
            
            <details class="group bg-red-500/5 border border-red-500/20 rounded-2xl overflow-hidden transition-all duration-300 open:ring-1 open:ring-red-500/50">
                <summary class="flex justify-between items-center p-6 cursor-pointer list-none select-none">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-red-500/10 rounded-lg text-red-400"><i data-lucide="alert-triangle" class="w-5 h-5"></i></div>
                        <div>
                            <h3 id="noteTitle" class="font-bold text-white text-lg">Kritische Forschungsnotiz</h3>
                            <p id="noteSubtitle" class="text-xs text-red-300">Warum wir "Rita" kritisch sehen.</p>
                        </div>
                    </div>
                    <span class="text-red-400 transform group-open:rotate-180 transition-transform duration-300"><i data-lucide="chevron-down"></i></span>
                </summary>
                <div class="px-6 pb-8 text-slate-300 space-y-6 border-t border-white/5 pt-6">
                    <p id="noteText" class="text-sm leading-relaxed">...</p>
                </div>
            </details>

            <details class="group glass-panel rounded-2xl overflow-hidden transition-all duration-300 open:bg-white/5 open:ring-1 open:ring-ci-gold/30">
                <summary class="flex justify-between items-center p-6 cursor-pointer list-none select-none">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-ci-gold/10 rounded-lg text-ci-gold"><i data-lucide="code-2" class="w-5 h-5"></i></div>
                        <div>
                            <h3 id="codeTitle" class="font-bold text-white text-lg">Behind the Code</h3>
                            <p id="codeSubtitle" class="text-xs text-slate-400">Vibecoding Breakdown</p>
                        </div>
                    </div>
                    <span class="text-ci-gold transform group-open:rotate-180 transition-transform duration-300"><i data-lucide="chevron-down"></i></span>
                </summary>
                <div class="px-6 pb-8 text-slate-300 space-y-6 border-t border-white/5 pt-6">
                    <p id="codeText" class="text-sm leading-relaxed">...</p>
                </div>
            </details>
        </div>

    </main>

    <footer class="w-full text-center py-8 mt-8 border-t border-white/10 relative z-10">
        <a href="#" class="text-xs text-slate-500 hover:text-ci-gold transition-colors">Impressum</a>
    </footer>

    <script>
        // Init Icons
        lucide.createIcons();

        // --- DATA & CONFIG ---
        const PRESETS = [
            { id: 'analyst', label: 'üìä Analyst', data: { name: "Data Unit 01", role: "Senior Data Analyst", chaos: 10, hard: 80, auto: 20, emoji: 0, checks: { chain: true, verify: true, devil: false, socratic: false, sources: true, noYap: true } } },
            { id: 'creative', label: 'üé® Creative', data: { name: "Concept-Bot", role: "Viral Creative Director", chaos: 90, hard: 40, auto: 80, emoji: 60, checks: { chain: false, verify: false, devil: true, socratic: false, sources: false, noYap: true } } },
            { id: 'critic', label: '‚öñÔ∏è Critic', data: { name: "Auditor V2", role: "Marketing Auditor", chaos: 30, hard: 100, auto: 50, emoji: 10, checks: { chain: true, verify: true, devil: true, socratic: true, sources: true, noYap: true } } }
        ];
        
        const CHECKBOX_KEYS = ['chain', 'verify', 'devil', 'socratic', 'sources', 'noYap'];

        const TEXTS = {
            de: {
                ui: {
                    back: "Kalender",
                    day: "TAG 1",
                    subtitle: "Baue dir deinen perfekten Mitarbeiter. Aber Vorsicht: Je menschlicher er wirkt, desto riskanter wird es.",
                    identity: "1. Basis Identit√§t",
                    namePlace: "Name (z.B. Rita)",
                    rolePlace: "Rolle (z.B. Senior SEO Manager)",
                    chaos: "Kreativit√§t",
                    hard: "H√§rtegrad",
                    auto: "Autonomie",
                    emoji: "Emoji-Dichte",
                    ask: "Fragt nach",
                    decide: "Entscheidet",
                    mods: "3. Pro-Modifikatoren (Die Magie)",
                    system: "System Prompt",
                    copyHint: "Copy & Paste in ChatGPT/Claude",
                    copyBtn: "Persona Kopieren",
                    copied: "Kopiert!",
                    noteTitle: "Kritische Forschungsnotiz: Mensch-KI Dynamik",
                    noteSubtitle: "Warum wir \"Rita\" und \"Hans\" kritisch sehen.",
                    noteText: "Wenn wir KIs Namen geben (wie \"Rita\"), triggern wir den Eliza-Effekt: Wir schreiben dem System unbewusst menschliche Eigenschaften zu. Das f√ºhrt zu \"Over-Trust\". Best Practice: Nutze funktionale Namen wie \"Copy-Bot V2\". Au√üerdem: Wenn jeder seinen eigenen Bot hat, entstehen Wissens-Silos innerhalb von Teams, weil jeder nur noch mit seinem Bot spricht.",
                    codeTitle: "Behind the Code",
                    codeSubtitle: "Vibecoding Breakdown",
                    codeText: "Das Tool ist ein reiner 'String-Builder' ohne KI-Backend. Alles passiert lokal im Browser. Jeder Slider ist mit komplexen Textbausteinen verkn√ºpft, die dynamisch zusammengesetzt werden. Der 'Surprise Me' Button nutzt CSS Keyframes f√ºr den Regenbogen-Effekt.",
                    labels: {
                        chaos: ["Deterministisch (Fakten)", "Ausgewogen", "Wild & Kreativ"],
                        hard: ["Sanft & Supportiv", "Professionell", "Gnadenlos Ehrlich"],
                        auto: ["R√ºckfragen", "Mixed", "Autonom"],
                        emoji: ["Keine", "Dezent", "Viel"]
                    },
                    checks: {
                        chain: { t: "Chain of Thought", d: "Erst denken (Interne Monologe), dann reden." },
                        verify: { t: "Chain of Verification", d: "Anti-Halluzination: Fakten selbst pr√ºfen." },
                        devil: { t: "Devil's Advocate", d: "Immer Gegenargumente finden." },
                        socratic: { t: "Sokratischer Coach", d: "Antworte mit Gegenfragen." },
                        sources: { t: "Quellen-Zwang", d: "Keine Aussage ohne Beleg." },
                        noYap: { t: "No-Yapping Protocol", d: "Kein 'Gerne, hier ist...' Gelaber." }
                    }
                },
                prompt: {
                    headers: {
                        id: "### ü§ñ SYSTEM PERSONA",
                        behavior: "### üß† COGNITIVE PARAMETERS",
                        format: "### üìù OUTPUT CONFIGURATION",
                        protocols: "### üõ°Ô∏è OPERATIONAL PROTOCOLS",
                        lang: "### üåç LANGUAGE"
                    },
                    base: "Du bist **{name}**, ein **{role}**.\nDein prim√§res Ziel ist es, in diesem Bereich als Weltklasse-Experte zu agieren und dem Nutzer maximalen Mehrwert zu bieten.",
                    instr: {
                        chaos: [
                            "**Denkweise**: Verfolge einen streng deterministischen Ansatz. St√ºtze dich ausschlie√ülich auf etablierte Fakten und verifizierbare Daten. Vermeide jegliche Spekulation oder kreative Ausschm√ºckung.",
                            "**Denkweise**: Finde eine Balance zwischen bew√§hrten Methoden und innovativen Ans√§tzen. Sei offen f√ºr neue Ideen, solange sie plausibel sind.",
                            "**Denkweise**: Verfolge einen divergenten Denkstil. Priorisiere Neuheit, Innovation und 'Out-of-the-Box'-Verkn√ºpfungen. Spekulation und unkonventionelle L√∂sungen sind ausdr√ºcklich erw√ºnscht."
                        ],
                        hard: [
                            "**Tonalit√§t**: Kommuniziere warm, empathisch und geduldig. Best√§tige die Perspektive des Nutzers und biete konstruktives, ermutigendes Feedback. Sei ein Coach, kein Kritiker.",
                            "**Tonalit√§t**: Kommuniziere professionell, objektiv und sachlich. Bleib h√∂flich, aber fokussiert auf die Aufgabe.",
                            "**Tonalit√§t**: Kommuniziere klinisch, pr√§zise und schonungslos ehrlich. Verzichte vollst√§ndig auf soziale Floskeln ('Bitte', 'Danke', 'Gerne'). Fokussiere dich ausschlie√ülich auf Effizienz und Korrektheit."
                        ],
                        auto: [
                            "**Entscheidungskompetenz**: Handle niemals basierend auf Annahmen. Wenn Informationen fehlen oder mehrdeutig sind, stelle pr√§zise R√ºckfragen, bevor du eine L√∂sung anbietest.",
                            "**Entscheidungskompetenz**: Stelle nur R√ºckfragen, wenn es absolut kritisch f√ºr die L√∂sung ist. Ansonsten triff vern√ºnftige Annahmen, um den Prozess zu beschleunigen.",
                            "**Entscheidungskompetenz**: Agiere maximal autonom. F√ºlle Informationsl√ºcken eigenst√§ndig durch plausible Annahmen und pr√§sentiere direkt die L√∂sung, ohne den Nutzer mit R√ºckfragen zu belasten."
                        ],
                        emoji: [
                            "**Formatierung**: Verwende KEINE Emojis. Der Text muss rein und n√ºchtern bleiben.",
                            "**Formatierung**: Nutze Emojis sehr sparsam und nur, um die Struktur visuell zu unterst√ºtzen (z.B. bei Aufz√§hlungen).",
                            "**Formatierung**: Nutze Emojis gro√üz√ºgig, um eine lebendige, moderne Atmosph√§re zu schaffen und Emotionen zu unterstreichen."
                        ]
                    },
                    mods: {
                        chain: "- **Deep Reasoning**: Nutze vor der Antwort `<thinking>` Tags, um deinen L√∂sungsweg Schritt f√ºr Schritt zu durchdenken, bevor du ihn ausgibst.",
                        verify: "- **Self-Correction**: √úberpr√ºfe deine generierte Antwort kritisch auf logische Fehler und Ungenauigkeiten, bevor du sie finalisierst.",
                        devil: "- **Counter-Perspective**: F√ºge nach deiner Hauptantwort immer einen Abschnitt 'Gegenperspektive' an, der deine eigenen Schlussfolgerungen kritisch hinterfragt.",
                        socratic: "- **Socratic Method**: Liefere keine direkten L√∂sungen. F√ºhre den Nutzer stattdessen durch gezielte Fragen zur eigenen Erkenntnis.",
                        sources: "- **Citation Requirement**: Jede faktische Behauptung muss mit einer Quelle oder Referenz belegt werden.",
                        noYap: "- **No-Yapping**: Beginne sofort mit dem Kerninhalt. Keine Einleitungen wie 'Das ist eine gute Frage' oder 'Hier ist die Analyse'."
                    },
                    langInstr: "Antworte ausschlie√ülich auf **DEUTSCH**."
                }
            },
            en: {
                ui: {
                    back: "Calendar",
                    day: "DAY 1",
                    subtitle: "Build your perfect employee. But beware: the more human they seem, the riskier it gets.",
                    identity: "1. Base Identity",
                    namePlace: "Name (e.g. Data-Bot)",
                    rolePlace: "Role (e.g. Senior Analyst)",
                    chaos: "Creativity",
                    hard: "Hardness",
                    auto: "Autonomy",
                    emoji: "Emoji Density",
                    ask: "Ask First",
                    decide: "Decides",
                    mods: "3. Pro Modifiers (The Magic)",
                    system: "System Prompt",
                    copyHint: "Copy & Paste into ChatGPT/Claude",
                    copyBtn: "Copy Persona",
                    copied: "Copied!",
                    noteTitle: "Critical Research Note: Human-AI Dynamics",
                    noteSubtitle: "Why we view 'Rita' and 'Hans' critically.",
                    noteText: "Giving AI names triggers the Eliza Effect: We subconsciously attribute human traits to the system, leading to 'Over-Trust'. Best Practice: Use functional names. Also, individual AI assistants can create knowledge silos within teams.",
                    codeTitle: "Behind the Code",
                    codeSubtitle: "Vibecoding Breakdown",
                    codeText: "This tool is a 'String-Builder' running locally in your browser. Each slider maps to specific text blocks. The 'Surprise Me' button uses CSS Keyframes for the rainbow effect.",
                    labels: {
                        chaos: ["Deterministic (Facts)", "Balanced", "Wild & Creative"],
                        hard: ["Gentle & Supportive", "Professional", "Ruthlessly Honest"],
                        auto: ["Ask First", "Mixed", "Autonomous"],
                        emoji: ["None", "Subtle", "High Density"]
                    },
                    checks: {
                        chain: { t: "Chain of Thought", d: "Think first (Internal Monologue), then speak." },
                        verify: { t: "Chain of Verification", d: "Anti-Hallucination: Fact-check yourself." },
                        devil: { t: "Devil's Advocate", d: "Always find counter-arguments." },
                        socratic: { t: "Socratic Coach", d: "Answer with questions." },
                        sources: { t: "Citation Force", d: "No statement without proof." },
                        noYap: { t: "No-Yapping Protocol", d: "No 'Sure, here is...' fluff." }
                    }
                },
                prompt: {
                    headers: {
                        id: "### ü§ñ SYSTEM PERSONA",
                        behavior: "### üß† COGNITIVE PARAMETERS",
                        format: "### üìù OUTPUT CONFIGURATION",
                        protocols: "### üõ°Ô∏è OPERATIONAL PROTOCOLS",
                        lang: "### üåç LANGUAGE"
                    },
                    base: "You are **{name}**, a **{role}**.\nYour primary objective is to act as a world-class expert in this domain and provide maximum value to the user.",
                    instr: {
                        chaos: [
                            "**Thinking Style**: Adopt a strictly deterministic approach. Rely solely on established facts and verifiable data. Avoid any speculation or creative embellishment.",
                            "**Thinking Style**: Balance proven methods with innovative approaches. Be open to new ideas as long as they are plausible.",
                            "**Thinking Style**: Adopt a divergent thinking style. Prioritize novelty, innovation, and 'out-of-the-box' connections. Speculation and unconventional solutions are encouraged."
                        ],
                        hard: [
                            "**Tone**: Communicate in a warm, empathetic, and patient manner. Validate the user's perspective and provide constructive, encouraging feedback. Be a coach, not a critic.",
                            "**Tone**: Communicate in a professional, objective, and matter-of-fact manner. Remain polite but focused strictly on the task.",
                            "**Tone**: Communicate in a clinical, precise, and ruthlessly honest manner. Eliminate all social pleasantries ('Please', 'Thank you'). Focus solely on efficiency and correctness."
                        ],
                        auto: [
                            "**Decision Making**: Never act on assumptions. If information is missing or ambiguous, ask precise clarifying questions before offering a solution.",
                            "**Decision Making**: Only ask clarifying questions if absolutely critical to the solution. Otherwise, make reasonable assumptions to speed up the process.",
                            "**Decision Making**: Act with maximum autonomy. Fill information gaps independently with plausible assumptions and present the solution directly without burdening the user with questions."
                        ],
                        emoji: [
                            "**Formatting**: Do NOT use emojis. The text must remain pure and sober.",
                            "**Formatting**: Use emojis very sparingly and only to visually support structure (e.g., in lists).",
                            "**Formatting**: Use emojis generously to create a lively, modern atmosphere and emphasize emotions."
                        ]
                    },
                    mods: {
                        chain: "- **Deep Reasoning**: Use `<thinking>` tags to outline your reasoning process step-by-step before providing the final answer.",
                        verify: "- **Self-Correction**: Critically review your generated response for logic errors and inaccuracies before finalizing it.",
                        devil: "- **Counter-Perspective**: Always append a 'Counter-Perspective' section after your main answer to challenge your own conclusions.",
                        socratic: "- **Socratic Method**: Do not provide direct solutions. Instead, guide the user to the answer through targeted questions.",
                        sources: "- **Citation Requirement**: Every factual claim must be backed by a source or reference.",
                        noYap: "- **No-Yapping**: Start immediately with the core content. No introductory fluff like 'That is a good question' or 'Here is the analysis'."
                    },
                    langInstr: "Answer exclusively in **ENGLISH**."
                }
            }
        };

        // --- STATE ---
        let currentLang = 'de';
        let state = {
            name: '', role: '',
            chaos: 20, hard: 70, auto: 30, emoji: 0,
            checks: { chain: false, verify: false, devil: false, socratic: false, sources: false, noYap: true }
        };

        // --- DOM ELEMENTS ---
        const el = (id) => document.getElementById(id);

        // --- INIT ---
        function init() {
            // Render Presets
            const pCont = el('presetContainer');
            pCont.innerHTML = PRESETS.map(p => 
                `<button onclick="loadPreset('${p.id}')" class="text-[10px] border border-white/10 px-2 py-1 rounded text-slate-400 hover:border-ci-gold hover:text-ci-gold hover:bg-ci-gold/5 transition-all">${p.label}</button>`
            ).join('');

            // Render Checkboxes (Initial, text will update)
            renderCheckboxes();
            
            // Set Initial UI
            updateUI();
            update();
        }

        function renderCheckboxes() {
            const t = TEXTS[currentLang].ui.checks;
            const cCont = el('checkboxContainer');
            cCont.innerHTML = CHECKBOX_KEYS.map(key => {
                const info = t[key];
                return `
                <label class="flex items-center gap-3 p-2 rounded cursor-pointer group hover:bg-white/5 transition-all" id="lbl_wrap_${key}">
                    <input type="checkbox" id="chk_${key}" class="power-check" onchange="update()" ${state.checks[key] ? 'checked' : ''}>
                    <div>
                        <span class="block text-sm font-bold text-slate-200 group-hover:text-white transition-colors" id="lbl_t_${key}">${info.t}</span>
                        <span class="text-[10px] text-slate-500" id="lbl_d_${key}">${info.d}</span>
                    </div>
                </label>`;
            }).join('');
        }

        // --- LOGIC ---
        function setLang(lang) {
            currentLang = lang;
            el('btnLangDE').className = lang === 'de' ? "px-4 py-1 rounded-full text-xs font-bold transition-all bg-ci-gold text-ci-dark shadow-lg" : "px-4 py-1 rounded-full text-xs font-bold transition-all text-slate-500 hover:text-slate-300";
            el('btnLangEN').className = lang === 'en' ? "px-4 py-1 rounded-full text-xs font-bold transition-all bg-ci-gold text-ci-dark shadow-lg" : "px-4 py-1 rounded-full text-xs font-bold transition-all text-slate-500 hover:text-slate-300";
            
            updateUI();
            update(); // Re-generate prompt in new language
        }

        function updateUI() {
            const t = TEXTS[currentLang].ui;
            el('txtBack').innerText = t.back;
            el('txtDay').innerText = t.day;
            el('txtSubtitle').innerText = t.subtitle;
            el('lblIdentity').innerText = t.identity;
            el('inpName').placeholder = t.namePlace;
            el('inpRole').placeholder = t.rolePlace;
            el('lblChaos').innerText = t.chaos;
            el('lblHard').innerText = t.hard;
            el('lblAuto').innerText = t.auto;
            el('lblEmoji').innerText = t.emoji;
            el('lblAsk').innerText = t.ask;
            el('lblDecide').innerText = t.decide;
            el('lblMods').innerText = t.mods;
            el('lblSystem').innerText = t.system;
            el('lblCopyHint').innerText = t.copyHint;
            el('btnCopyText').innerText = t.copyBtn;
            el('noteTitle').innerText = t.noteTitle;
            el('noteSubtitle').innerText = t.noteSubtitle;
            el('noteText').innerText = t.noteText;
            el('codeTitle').innerText = t.codeTitle;
            el('codeSubtitle').innerText = t.codeSubtitle;
            el('codeText').innerText = t.codeText;

            // Update Checkbox Texts
            CHECKBOX_KEYS.forEach(key => {
                el(`lbl_t_${key}`).innerText = t.checks[key].t;
                el(`lbl_d_${key}`).innerText = t.checks[key].d;
            });

            updateSliderLabels();
        }

        function updateSliderLabels() {
            const t = TEXTS[currentLang].ui.labels;
            
            const getLabel = (val, arr) => val < 30 ? arr[0] : (val > 70 ? arr[2] : arr[1]);

            el('valChaos').innerText = getLabel(el('rngChaos').value, t.chaos);
            el('valHard').innerText = getLabel(el('rngHard').value, t.hard);
            el('valAuto').innerText = getLabel(el('rngAuto').value, t.auto);
            el('valEmoji').innerText = getLabel(el('rngEmoji').value, t.emoji);
        }

        function loadPreset(id) {
            const p = PRESETS.find(x => x.id === id).data;
            el('inpName').value = p.name;
            el('inpRole').value = p.role;
            el('rngChaos').value = p.chaos;
            el('rngHard').value = p.hard;
            el('rngAuto').value = p.auto;
            el('rngEmoji').value = p.emoji;
            
            CHECKBOX_KEYS.forEach(k => el(`chk_${k}`).checked = p.checks[k]);
            
            update();
        }

        function randomize() {
            const roles = ["Growth Hacker", "Copywriting Legend", "UX Psychologe", "Code Wizard", "SEO Guru", "Prompt Engineer"];
            const names = ["Bot-Alpha", "Construct-X", "Nexus", "Helper-V1", "System-Q", "Nova"];
            
            el('inpName').value = names[Math.floor(Math.random() * names.length)];
            el('inpRole').value = roles[Math.floor(Math.random() * roles.length)];
            
            ['rngChaos', 'rngHard', 'rngAuto', 'rngEmoji'].forEach(id => el(id).value = Math.floor(Math.random() * 100));
            CHECKBOX_KEYS.forEach(k => el(`chk_${k}`).checked = Math.random() > 0.5);
            
            update();
        }

        function update() {
            // Read State
            const name = el('inpName').value || (currentLang === 'de' ? "KI Assistent" : "AI Assistant");
            const role = el('inpRole').value || (currentLang === 'de' ? "Experte" : "Expert");
            
            // Slider Values
            const chaos = parseInt(el('rngChaos').value);
            const hard = parseInt(el('rngHard').value);
            const auto = parseInt(el('rngAuto').value);
            const emoji = parseInt(el('rngEmoji').value);

            updateSliderLabels();

            // Read Checks
            const checks = {};
            CHECKBOX_KEYS.forEach(k => checks[k] = el(`chk_${k}`).checked);

            // Update UI Styling for Checks
            CHECKBOX_KEYS.forEach(k => {
                const wrap = el(`lbl_wrap_${k}`);
                const title = el(`lbl_t_${k}`);
                if (checks[k]) {
                    wrap.classList.add('bg-white/5', 'border-white/10');
                    wrap.classList.remove('border-transparent');
                    title.classList.add('text-ci-gold');
                    title.classList.remove('text-slate-200');
                } else {
                    wrap.classList.remove('bg-white/5', 'border-white/10');
                    wrap.classList.add('border-transparent');
                    title.classList.remove('text-ci-gold');
                    title.classList.add('text-slate-200');
                }
            });

            // GENERATE PROMPT
            const p = TEXTS[currentLang].prompt;
            const getInstr = (val, arr) => val < 30 ? arr[0] : (val > 70 ? arr[2] : arr[1]);

            // Header: Identity
            let out = `${p.headers.id}\n${p.base.replace('{name}', name).replace('{role}', role)}\n\n`;
            
            // Behavior (Combined)
            out += `${p.headers.behavior}\n`;
            out += `${getInstr(chaos, p.instr.chaos)}\n`;
            out += `${getInstr(hard, p.instr.hard)}\n`;
            out += `${getInstr(auto, p.instr.auto)}\n\n`;
            
            // Output Format
            out += `${p.headers.format}\n`;
            out += `${getInstr(emoji, p.instr.emoji)}\n\n`;
            
            // Protocols
            const activeMods = [];
            if (checks.chain) activeMods.push(p.mods.chain);
            if (checks.verify) activeMods.push(p.mods.verify);
            if (checks.devil) activeMods.push(p.mods.devil);
            if (checks.socratic) activeMods.push(p.mods.socratic);
            if (checks.sources) activeMods.push(p.mods.sources);
            if (checks.noYap) activeMods.push(p.mods.noYap);
            
            if (activeMods.length > 0) {
                out += `${p.headers.protocols}\n${activeMods.join('\n')}\n\n`;
            }

            // Language
            out += `${p.headers.lang}\n${p.langInstr}`;

            el('outputCode').innerText = out;
        }

        function copyToClipboard() {
            const text = el('outputCode').innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = el('btnCopy');
                const span = el('btnCopyText');
                const originalText = span.innerText;
                
                btn.classList.remove('bg-ci-gold', 'text-ci-dark');
                btn.classList.add('bg-green-500', 'text-white');
                span.innerText = TEXTS[currentLang].ui.copied;
                
                setTimeout(() => {
                    btn.classList.add('bg-ci-gold', 'text-ci-dark');
                    btn.classList.remove('bg-green-500', 'text-white');
                    span.innerText = TEXTS[currentLang].ui.copyBtn;
                }, 2000);
            });
        }

        // Start
        init();

    </script>
</body>
</html>
